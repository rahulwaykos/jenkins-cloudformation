{

"Resources": {

  "ElasticsearchDomain":{
     "Type":"AWS::Elasticsearch::Domain",
     "Properties":{
        "DomainName":"jenkins-elastic",
        "ElasticsearchClusterConfig":{
           "DedicatedMasterEnabled":"fale",
           "InstanceCount":"1",
           "ZoneAwarenessEnabled":"true",
           "InstanceType":"t3.medium.elasticsearch",
        
        },
        "EBSOptions":{
           "EBSEnabled":true,
           "Iops":0,
           "VolumeSize":20,
           "VolumeType":"gp2"
        },
        "SnapshotOptions":{
           "AutomatedSnapshotStartHour":"0"
        },
        "AccessPolicies":{
           "Version":"2012-10-17",
           "Statement":[
              {
                 "Effect":"Allow",
                 "Principal":{
                    "AWS":"arn:aws:iam::123456789012:user/es-user"
                 },
                 "Action":"es:*",
                 "Resource":"arn:aws:es:us-east-1:123456789012:domain/test/*"
              }
           ]
        },
        "AdvancedOptions":{
           "rest.action.multi.allow_explicit_index":"true"
        } 
     } 
  }
  
  }
  }
